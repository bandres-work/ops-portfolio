<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>La Lujaneta ‚Äì Inscripci√≥n 2026</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

  <div class="container">
    <h1>üö∂‚Äç‚ôÇÔ∏è La Lujaneta 2026</h1>
    <p class="subtitle">Formulario Oficial de Inscripci√≥n</p>

    <div class="info-alert">
      <strong>‚ÑπÔ∏è INFORMACI√ìN IMPORTANTE</strong>
      La peregrinaci√≥n a Luj√°n es un evento p√∫blico y gratuito. El costo de esta inscripci√≥n cubre exclusivamente los servicios privados del grupo <strong>"La Lujaneta"</strong> (Kit, log√≠stica, asistencia m√©dica y coordinaci√≥n).<br><br>
      ‚ö†Ô∏è <strong>Sin el pago de la inscripci√≥n NO se generar√° el C√≥digo QR.</strong> Sin QR, no se entregar√° el kit ni se podr√° acceder a los servicios de apoyo del grupo.
    </div>

    <form id="registrationForm">
      
      <div class="section-title">1. Datos Personales</div>
      
      <div class="form-group">
        <label>Nombre Completo *</label>
        <input type="text" name="full_name" placeholder="Como figura en tu DNI" required>
      </div>

      <div style="display: flex; gap: 15px;">
        <div class="form-group" style="flex: 1;">
          <label>Tipo *</label>
          <select name="doc_type" required>
            <option value="DNI">DNI</option>
            <option value="Pasaporte">Pasaporte</option>
          </select>
        </div>
        <div class="form-group" style="flex: 2;">
          <label>N√∫mero de Documento *</label>
          <input type="number" name="doc_number" placeholder="Sin puntos" required>
        </div>
      </div>

      <div class="form-group">
        <label>Fecha de Nacimiento *</label>
        <input type="date" name="birthdate" required>
      </div>

      <div class="form-group">
        <label>Celular (con c√≥digo de √°rea) *</label>
        <input type="text" name="phone" placeholder="Ej: 11 5555 6666" required>
      </div>

      <div class="form-group">
        <label>Email (Te llegar√° el QR aqu√≠) *</label>
        <input type="email" name="email" placeholder="Aseg√∫rate de que funcione bien" required>
        <small style="color: #666;">El QR de acceso llegar√° a este correo una vez verificado el pago.</small>
      </div>

      <div class="section-title">2. Contacto de Emergencia</div>
      <div class="form-group">
        <label>Nombre del contacto *</label>
        <input type="text" name="emergency_contact_name" placeholder="Familiar o amigo" required>
      </div>
      <div class="form-group">
        <label>Tel√©fono del contacto *</label>
        <input type="text" name="emergency_contact_phone" placeholder="Ej: 11 4444 8888" required>
      </div>

      <div class="section-title">3. Ficha M√©dica</div>
      
      <div class="radio-group-container">
        <label>¬øTen√©s alguna condici√≥n m√©dica o tomas medicaci√≥n? *</label>
        <div class="radio-options">
          <label class="radio-label">
            <input type="radio" name="medical_flag" value="true" required onclick="toggleMedical(true)"> S√ç
          </label>
          <label class="radio-label">
            <input type="radio" name="medical_flag" value="false" required onclick="toggleMedical(false)"> NO
          </label>
        </div>
        <textarea name="medical_notes" id="medical_notes" class="hidden-textarea" placeholder="Por favor detalla qu√© condici√≥n o medicaci√≥n..." rows="3"></textarea>
      </div>

      <div class="radio-group-container">
        <label>¬øTen√©s alergias (Comida, remedios, insectos)? *</label>
        <div class="radio-options">
          <label class="radio-label">
            <input type="radio" name="allergies_flag" value="true" required onclick="toggleAllergies(true)"> S√ç
          </label>
          <label class="radio-label">
            <input type="radio" name="allergies_flag" value="false" required onclick="toggleAllergies(false)"> NO
          </label>
        </div>
        <textarea name="allergies_notes" id="allergies_notes" class="hidden-textarea" placeholder="Detalla tus alergias aqu√≠..." rows="3"></textarea>
      </div>

      <div class="section-title">4. Datos de la Peregrinaci√≥n</div>
      
      <div class="form-group">
        <label>Nivel de Experiencia *</label>
        <select name="experience" required>
          <option value="">Seleccionar...</option>
          <option value="FirstTimer">Es mi primera vez</option>
          <option value="1-2">Ya fui 1 o 2 veces</option>
          <option value="3-5">Soy recurrente (3-5 veces)</option>
          <option value="6+">Soy experto (+6 veces)</option>
        </select>
      </div>

      <div class="form-group">
        <label>Estado F√≠sico Actual *</label>
        <select name="fitness" required>
          <option value="">Seleccionar...</option>
          <option value="Low">Bajo (No entreno)</option>
          <option value="Medium">Medio (Entreno a veces)</option>
          <option value="High">Alto (Entreno siempre)</option>
        </select>
      </div>

      <div class="form-group">
        <label>Punto de Salida *</label>
        <select name="departure" required>
            <option value="">Selecciona tu parada...</option>
            <optgroup label="Zona Oeste Cercana">
                <option value="Liniers">Liniers</option>
                <option value="Ciudadela">Ciudadela</option>
                <option value="Ramos Mejia">Ramos Mej√≠a</option>
                <option value="Haedo">Haedo</option>
            </optgroup>
            <optgroup label="Zona Mor√≥n/Castelar">
                <option value="Moron">Mor√≥n</option>
                <option value="Castelar">Castelar</option>
                <option value="Ituzaingo">Ituzaing√≥</option>
                <option value="Padua">Padua</option>
            </optgroup>
            <optgroup label="Zona Merlo/Moreno">
                <option value="Merlo">Merlo</option>
                <option value="Paso del Rey">Paso del Rey</option>
                <option value="Moreno">Moreno</option>
                <option value="La Reja">La Reja</option>
                <option value="Francisco Alvarez">Francisco √Ålvarez</option>
            </optgroup>
            <optgroup label="Zona Lejana">
                 <option value="Pablo Marin">Pablo Mar√≠n</option>
                 <option value="Las Malvinas">Las Malvinas</option>
                 <option value="General Rodriguez">General Rodr√≠guez</option>
                 <option value="La Fraternidad">La Fraternidad</option>
                 <option value="Lezica y Torrezuri">Lezica y Torrezuri</option>
                 <option value="Universidad de Lujan">Universidad de Luj√°n</option>
            </optgroup>
        </select>
      </div>

      <div class="section-title">5. Pago e Inscripci√≥n</div>
      
      <div class="payment-card">
        <h3>üí∏ Datos para Transferir</h3>
        <p style="margin-bottom: 10px; color: #555;">Realiza la transferencia antes de completar el formulario.</p>
        
        <div class="payment-details">
          <p><strong>Alias:</strong> LA.LUJANETA.2026</p>
          <p><strong>CBU:</strong> 00000031000000000000</p>
          <p><strong>Titular:</strong> Juan P√©rez</p>
          <p><strong>Monto:</strong> $15.000</p>
        </div>
      </div>

      <div class="form-group">
        <label>M√©todo de Pago *</label>
        <select name="payment_method" required>
          <option value="MercadoPago">MercadoPago / Transferencia</option>
          <option value="Cash">Efectivo (Solo coordinado con Staff)</option>
        </select>
      </div>

      <div class="form-group">
        <label>Monto Abonado ($) *</label>
        <input type="number" name="amount" placeholder="Ej: 15000" required>
      </div>

      <div class="form-group">
        <label>Comprobante de Pago (Captura/Foto) *</label>
        <input type="file" name="proof_file" accept=".jpg,.png,.jpeg,.pdf" required>
        <small style="color: #c0392b; font-weight: bold; display: block; margin-top: 5px;">‚ö†Ô∏è Sin comprobante no podremos verificar tu pago ni enviarte el QR.</small>
      </div>

      <div class="terms-container">
        <div class="terms-check">
            <input type="checkbox" required>
            <label>Declaro bajo juramento que los datos son reales y que estoy apto f√≠sicamente para realizar la peregrinaci√≥n.</label>
        </div>
        <div class="terms-check">
            <input type="checkbox" required>
            <label><strong>Entiendo que sin el pago verificado NO recibir√© el QR.</strong> Me comprometo a guardar el c√≥digo QR (que llegar√° a mi correo) y presentarlo el d√≠a del evento para retirar mi kit y marcar asistencia.</label>
        </div>
      </div>

      <button type="submit">CONFIRMAR INSCRIPCI√ìN</button>
    </form>

    <div id="status"></div>
  </div>

  <script src="script.js"></script>

  <script>
    function toggleMedical(show) {
      const el = document.getElementById('medical_notes');
      if (show) {
        el.classList.add('visible');
        el.required = true;
      } else {
        el.classList.remove('visible');
        el.value = '';
        el.required = false;
      }
    }

    function toggleAllergies(show) {
      const el = document.getElementById('allergies_notes');
      if (show) {
        el.classList.add('visible');
        el.required = true;
      } else {
        el.classList.remove('visible');
        el.value = '';
        el.required = false;
      }
    }
  </script>
</body>
</html>